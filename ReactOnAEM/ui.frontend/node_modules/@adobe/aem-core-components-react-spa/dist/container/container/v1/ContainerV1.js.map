{"version":3,"sources":["webpack://@adobe/aem-core-components-react-spa/webpack/universalModuleDefinition","webpack://@adobe/aem-core-components-react-spa/webpack/bootstrap","webpack://@adobe/aem-core-components-react-spa/external \"react\"","webpack://@adobe/aem-core-components-react-spa/external \"@adobe/aem-react-editable-components\"","webpack://@adobe/aem-core-components-react-spa/./src/container/container/v1/ContainerV1.tsx","webpack://@adobe/aem-core-components-react-spa/./src/AbstractCoreContainerComponent.tsx"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","ContainerV1Impl","props","super","state","componentMapping","mainDiv","createRef","current","setAttribute","backgroundStyle","className","allowedComponents","children","cqPath","cqItems","cqItemsOrder","isInEditor","otherProps","applicable","render","gridProps","components","gridClassNames","columnClassNames","title","createElement","assign","coreContainerProps","ref","id","baseCssClass","layout","cqForceReload","placeholderComponent","isBrowser","window","err","withStandardBaseCssClass","Component","defaultBaseCssClass","toBeUsedCssClass","trim","length","mergedProps","withAuthorPanelSwitch","Granite","author","MessageChannel","messageChannel","callback","message","data","operation","index","setState","activeIndexFromAuthorPanel","subscribeRequestMessage","unsubscribeRequestMessage"],"mappings":"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","file":"container/container/v1/ContainerV1.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@adobe/aem-core-components-react-spa\"] = factory();\n\telse\n\t\troot[\"@adobe/aem-core-components-react-spa\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n","module.exports = require(\"react\");","module.exports = require(\"@adobe/aem-react-editable-components\");","/*\n *  Copyright 2020 Adobe\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\nimport React from \"react\";\nimport { ComponentMapping, AllowedComponentsContainer, Container, ResponsiveGrid } from '@adobe/aem-react-editable-components';\nimport { withStandardBaseCssClass } from '../../../AbstractCoreContainerComponent';\nclass ContainerV1Impl extends AllowedComponentsContainer {\n    constructor(props) {\n        super(props);\n        //@ts-ignore\n        this.state = {\n            componentMapping: this.props.componentMapping || ComponentMapping,\n        };\n        this.mainDiv = React.createRef();\n    }\n    componentDidMount() {\n        if (this.mainDiv.current) {\n            this.mainDiv.current.setAttribute('style', this.props.backgroundStyle);\n        }\n    }\n    componentDidUpdate() {\n        if (this.mainDiv.current) {\n            this.mainDiv.current.setAttribute('style', this.props.backgroundStyle);\n        }\n    }\n    get coreContainerProps() {\n        return {\n            className: 'container responsivegrid'\n        };\n    }\n    render() {\n        const { componentMapping, allowedComponents, children, cqPath, cqItems, cqItemsOrder, isInEditor, ...otherProps } = this.props;\n        if (isInEditor && allowedComponents && allowedComponents.applicable) {\n            return super.render();\n        }\n        const gridProps = {\n            allowedComponents: { applicable: false, components: [] },\n            componentMapping: this.state.componentMapping,\n            gridClassNames: this.props.gridClassNames,\n            columnClassNames: this.props.columnClassNames,\n            cqItems: this.props.cqItems,\n            cqItemsOrder: this.props.cqItemsOrder,\n            title: \"\",\n            cqPath: this.props.cqPath,\n            isInEditor: false\n        };\n        return (React.createElement(\"div\", Object.assign({}, this.coreContainerProps),\n            React.createElement(\"div\", { ref: this.mainDiv, id: this.props.id, className: this.props.baseCssClass },\n                (this.props.layout && this.props.layout === 'simple') &&\n                    React.createElement(Container, { componentMapping: this.state.componentMapping, cqForceReload: this.props.cqForceReload, cqPath: this.props.cqPath, cqItems: this.props.cqItems, cqItemsOrder: this.props.cqItemsOrder, isInEditor: false }),\n                (!this.props.layout || this.props.layout !== 'simple') &&\n                    React.createElement(ResponsiveGrid, Object.assign({}, gridProps)),\n                this.placeholderComponent)));\n    }\n}\nexport default withStandardBaseCssClass(ContainerV1Impl, \"cmp-container\");\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udGFpbmVyVjEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJDb250YWluZXJWMS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7O0dBY0c7QUFFSCxPQUFPLEtBQWtCLE1BQU0sT0FBTyxDQUFDO0FBRXZDLE9BQU8sRUFDSCxnQkFBZ0IsRUFDaEIsMEJBQTBCLEVBQzFCLFNBQVMsRUFDVCxjQUFjLEVBRWpCLE1BQU0sc0NBQXNDLENBQUM7QUFDOUMsT0FBTyxFQUdILHdCQUF3QixFQUMzQixNQUFNLHlDQUF5QyxDQUFDO0FBU2pELE1BQU0sZUFBZ0IsU0FBUSwwQkFBcUU7SUFJL0YsWUFBWSxLQUE0QjtRQUNwQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFYixZQUFZO1FBQ1osSUFBSSxDQUFDLEtBQUssR0FBRztZQUNULGdCQUFnQixFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLElBQUksZ0JBQWdCO1NBQ3BFLENBQUM7UUFDRixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUNyQyxDQUFDO0lBRUQsaUJBQWlCO1FBQ2IsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRTtZQUN0QixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUM7U0FDMUU7SUFFTCxDQUFDO0lBRUQsa0JBQWtCO1FBQ2QsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRTtZQUN0QixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUM7U0FDMUU7SUFDTCxDQUFDO0lBRUQsSUFBSSxrQkFBa0I7UUFDbEIsT0FBTztZQUNILFNBQVMsRUFBRSwwQkFBMEI7U0FDeEMsQ0FBQztJQUNOLENBQUM7SUFHRCxNQUFNO1FBQ0YsTUFBTSxFQUNGLGdCQUFnQixFQUNoQixpQkFBaUIsRUFDakIsUUFBUSxFQUNSLE1BQU0sRUFDTixPQUFPLEVBQ1AsWUFBWSxFQUNaLFVBQVUsRUFDVixHQUFHLFVBQVUsRUFDaEIsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBRWYsSUFBSSxVQUFVLElBQUksaUJBQWlCLElBQUksaUJBQWlCLENBQUMsVUFBVSxFQUFFO1lBQ2pFLE9BQU8sS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO1NBQ3pCO1FBRUQsTUFBTSxTQUFTLEdBQTZCO1lBQ3hDLGlCQUFpQixFQUFFLEVBQUMsVUFBVSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFDO1lBQ3RELGdCQUFnQixFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCO1lBQzdDLGNBQWMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWM7WUFDekMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0I7WUFDN0MsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTztZQUMzQixZQUFZLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZO1lBQ3JDLEtBQUssRUFBRSxFQUFFO1lBQ1QsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTTtZQUN6QixVQUFVLEVBQUUsS0FBSztTQUNwQixDQUFDO1FBRUYsT0FBTyxDQUNILDZDQUFTLElBQUksQ0FBQyxrQkFBa0I7WUFDNUIsNkJBQUssR0FBRyxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQ2pCLEVBQUUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFDakIsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWTtnQkFFbEMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sS0FBSyxRQUFRLENBQUM7b0JBQ3RELG9CQUFDLFNBQVMsSUFDTixnQkFBZ0IsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixFQUM3QyxhQUFhLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLEVBQ3ZDLE1BQU0sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFDekIsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUMzQixZQUFZLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEVBQ3JDLFVBQVUsRUFBRSxLQUFLLEdBQUc7Z0JBRXZCLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sS0FBSyxRQUFRLENBQUM7b0JBQ3ZELG9CQUFDLGNBQWMsb0JBQUssU0FBUyxFQUFHO2dCQUcvQixJQUFJLENBQUMsb0JBQW9CLENBQ3hCLENBQ0osQ0FDVCxDQUFBO0lBQ0wsQ0FBQztDQUVKO0FBRUQsZUFBZSx3QkFBd0IsQ0FBQyxlQUFlLEVBQUUsZUFBZSxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogIENvcHlyaWdodCAyMDIwIEFkb2JlXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBSZWFjdCwge1JlZk9iamVjdH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7XG4gICAgQ29tcG9uZW50TWFwcGluZyxcbiAgICBBbGxvd2VkQ29tcG9uZW50c0NvbnRhaW5lcixcbiAgICBDb250YWluZXIsXG4gICAgUmVzcG9uc2l2ZUdyaWQsXG4gICAgUmVzcG9uc2l2ZUdyaWRQcm9wZXJ0aWVzXG59IGZyb20gJ0BhZG9iZS9hZW0tcmVhY3QtZWRpdGFibGUtY29tcG9uZW50cyc7XG5pbXBvcnQge1xuICAgIENvcmVDb250YWluZXJQcm9wZXJ0aWVzLFxuICAgIENvcmVDb250YWluZXJTdGF0ZSxcbiAgICB3aXRoU3RhbmRhcmRCYXNlQ3NzQ2xhc3Ncbn0gZnJvbSAnLi4vLi4vLi4vQWJzdHJhY3RDb3JlQ29udGFpbmVyQ29tcG9uZW50JztcblxuZXhwb3J0IGludGVyZmFjZSBDb250YWluZXJWMVByb3BlcnRpZXMgZXh0ZW5kcyBDb3JlQ29udGFpbmVyUHJvcGVydGllcywgUmVzcG9uc2l2ZUdyaWRQcm9wZXJ0aWVzIHtcbiAgICBiYWNrZ3JvdW5kU3R5bGU6IHN0cmluZztcbiAgICBpZDogc3RyaW5nO1xuICAgIGxheW91dD86ICdyZXNwb25zaXZlR3JpZCcgfCAnc2ltcGxlJztcbn1cblxuXG5jbGFzcyBDb250YWluZXJWMUltcGwgZXh0ZW5kcyBBbGxvd2VkQ29tcG9uZW50c0NvbnRhaW5lcjxDb250YWluZXJWMVByb3BlcnRpZXMsIENvcmVDb250YWluZXJTdGF0ZT4ge1xuXG4gICAgbWFpbkRpdjogUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50PjtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBDb250YWluZXJWMVByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgY29tcG9uZW50TWFwcGluZzogdGhpcy5wcm9wcy5jb21wb25lbnRNYXBwaW5nIHx8IENvbXBvbmVudE1hcHBpbmcsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubWFpbkRpdiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5tYWluRGl2LmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMubWFpbkRpdi5jdXJyZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCB0aGlzLnByb3BzLmJhY2tncm91bmRTdHlsZSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubWFpbkRpdi5jdXJyZW50KSB7XG4gICAgICAgICAgICB0aGlzLm1haW5EaXYuY3VycmVudC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgdGhpcy5wcm9wcy5iYWNrZ3JvdW5kU3R5bGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGNvcmVDb250YWluZXJQcm9wcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2NvbnRhaW5lciByZXNwb25zaXZlZ3JpZCdcbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY29tcG9uZW50TWFwcGluZyxcbiAgICAgICAgICAgIGFsbG93ZWRDb21wb25lbnRzLFxuICAgICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgICBjcVBhdGgsXG4gICAgICAgICAgICBjcUl0ZW1zLFxuICAgICAgICAgICAgY3FJdGVtc09yZGVyLFxuICAgICAgICAgICAgaXNJbkVkaXRvcixcbiAgICAgICAgICAgIC4uLm90aGVyUHJvcHNcbiAgICAgICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICAgICAgaWYgKGlzSW5FZGl0b3IgJiYgYWxsb3dlZENvbXBvbmVudHMgJiYgYWxsb3dlZENvbXBvbmVudHMuYXBwbGljYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnJlbmRlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ3JpZFByb3BzOiBSZXNwb25zaXZlR3JpZFByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBhbGxvd2VkQ29tcG9uZW50czoge2FwcGxpY2FibGU6IGZhbHNlLCBjb21wb25lbnRzOiBbXX0sXG4gICAgICAgICAgICBjb21wb25lbnRNYXBwaW5nOiB0aGlzLnN0YXRlLmNvbXBvbmVudE1hcHBpbmcsXG4gICAgICAgICAgICBncmlkQ2xhc3NOYW1lczogdGhpcy5wcm9wcy5ncmlkQ2xhc3NOYW1lcyxcbiAgICAgICAgICAgIGNvbHVtbkNsYXNzTmFtZXM6IHRoaXMucHJvcHMuY29sdW1uQ2xhc3NOYW1lcyxcbiAgICAgICAgICAgIGNxSXRlbXM6IHRoaXMucHJvcHMuY3FJdGVtcyxcbiAgICAgICAgICAgIGNxSXRlbXNPcmRlcjogdGhpcy5wcm9wcy5jcUl0ZW1zT3JkZXIsXG4gICAgICAgICAgICB0aXRsZTogXCJcIixcbiAgICAgICAgICAgIGNxUGF0aDogdGhpcy5wcm9wcy5jcVBhdGgsXG4gICAgICAgICAgICBpc0luRWRpdG9yOiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IHsuLi50aGlzLmNvcmVDb250YWluZXJQcm9wc30+XG4gICAgICAgICAgICAgICAgPGRpdiByZWY9e3RoaXMubWFpbkRpdn1cbiAgICAgICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkfVxuICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmJhc2VDc3NDbGFzc30+XG5cbiAgICAgICAgICAgICAgICAgICAgeyh0aGlzLnByb3BzLmxheW91dCAmJiB0aGlzLnByb3BzLmxheW91dCA9PT0gJ3NpbXBsZScpICYmXG4gICAgICAgICAgICAgICAgICAgIDxDb250YWluZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudE1hcHBpbmc9e3RoaXMuc3RhdGUuY29tcG9uZW50TWFwcGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIGNxRm9yY2VSZWxvYWQ9e3RoaXMucHJvcHMuY3FGb3JjZVJlbG9hZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNxUGF0aD17dGhpcy5wcm9wcy5jcVBhdGh9XG4gICAgICAgICAgICAgICAgICAgICAgICBjcUl0ZW1zPXt0aGlzLnByb3BzLmNxSXRlbXN9XG4gICAgICAgICAgICAgICAgICAgICAgICBjcUl0ZW1zT3JkZXI9e3RoaXMucHJvcHMuY3FJdGVtc09yZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNJbkVkaXRvcj17ZmFsc2V9Lz59XG5cbiAgICAgICAgICAgICAgICAgICAgeyghdGhpcy5wcm9wcy5sYXlvdXQgfHwgdGhpcy5wcm9wcy5sYXlvdXQgIT09ICdzaW1wbGUnKSAmJlxuICAgICAgICAgICAgICAgICAgICA8UmVzcG9uc2l2ZUdyaWQgey4uLmdyaWRQcm9wc30vPlxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucGxhY2Vob2xkZXJDb21wb25lbnR9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoU3RhbmRhcmRCYXNlQ3NzQ2xhc3MoQ29udGFpbmVyVjFJbXBsLCBcImNtcC1jb250YWluZXJcIik7XG4iXX0=","/*\n *  Copyright 2020 Adobe\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\nimport * as React from 'react';\nconst isBrowser = (() => {\n    try {\n        return typeof window !== 'undefined';\n    }\n    catch (err) {\n        return false;\n    }\n})();\nexport const withStandardBaseCssClass = (Component, defaultBaseCssClass) => {\n    return (props) => {\n        const baseCssClass = props.baseCssClass;\n        const toBeUsedCssClass = baseCssClass && baseCssClass.trim().length > 0 ? baseCssClass : defaultBaseCssClass;\n        const mergedProps = {\n            ...props,\n            baseCssClass: toBeUsedCssClass\n        };\n        return React.createElement(Component, Object.assign({}, mergedProps));\n    };\n};\nexport const withAuthorPanelSwitch = (Component) => {\n    return class extends React.Component {\n        constructor(props) {\n            super(props);\n            this.state = {};\n            //@ts-ignore\n            if (isBrowser && window.Granite && window.Granite.author && window.Granite.author.MessageChannel) {\n                //@ts-ignore\n                this.messageChannel = new window.Granite.author.MessageChannel(\"cqauthor\", window);\n                this.callback = this.callback.bind(this);\n            }\n        }\n        callback(message) {\n            if (message.data && message.data.id === this.props.cqPath) {\n                if (message.data.operation === \"navigate\") {\n                    const index = message.data.index;\n                    this.setState({\n                        activeIndexFromAuthorPanel: index\n                    });\n                }\n            }\n        }\n        componentDidMount() {\n            if (this.messageChannel) {\n                this.messageChannel.subscribeRequestMessage(\"cmp.panelcontainer\", this.callback);\n            }\n        }\n        componentWillUnmount() {\n            if (this.messageChannel) {\n                this.messageChannel.unsubscribeRequestMessage(\"cmp.panelcontainer\", this.callback);\n            }\n        }\n        render() {\n            return React.createElement(Component, Object.assign({}, this.props, { activeIndexFromAuthorPanel: this.state.activeIndexFromAuthorPanel }));\n        }\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWJzdHJhY3RDb3JlQ29udGFpbmVyQ29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiQWJzdHJhY3RDb3JlQ29udGFpbmVyQ29tcG9uZW50LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7R0FjRztBQUVILE9BQU8sS0FBSyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBMEIvQixNQUFNLFNBQVMsR0FBRyxDQUFDLEdBQUcsRUFBRTtJQUNwQixJQUFHO1FBQ0MsT0FBTyxPQUFPLE1BQU0sS0FBSyxXQUFXLENBQUM7S0FDeEM7SUFBQSxPQUFNLEdBQUcsRUFBQztRQUNQLE9BQU8sS0FBSyxDQUFDO0tBQ2hCO0FBQ0wsQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUdMLE1BQU0sQ0FBQyxNQUFNLHdCQUF3QixHQUFHLENBRXBDLFNBQTBCLEVBQzFCLG1CQUEwQixFQUNKLEVBQUU7SUFDeEIsT0FBTyxDQUFDLEtBQU8sRUFBRSxFQUFFO1FBRWYsTUFBTSxZQUFZLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQztRQUN4QyxNQUFNLGdCQUFnQixHQUFHLFlBQVksSUFBSSxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQztRQUU3RyxNQUFNLFdBQVcsR0FBSztZQUNsQixHQUFHLEtBQUs7WUFDUixZQUFZLEVBQUUsZ0JBQWdCO1NBQ2pDLENBQUM7UUFFRixPQUFPLG9CQUFDLFNBQVMsb0JBQUssV0FBVyxFQUFJLENBQUM7SUFDMUMsQ0FBQyxDQUFBO0FBQ0wsQ0FBQyxDQUFDO0FBSUYsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsQ0FDakMsU0FBMEIsRUFDTCxFQUFFO0lBRXZCLE9BQU8sS0FBTSxTQUFRLEtBQUssQ0FBQyxTQUFvQztRQUszRCxZQUFZLEtBQU87WUFDZixLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDYixJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQTtZQUVmLFlBQVk7WUFDWixJQUFJLFNBQVMsSUFBSSxNQUFNLENBQUMsT0FBTyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRTtnQkFDOUYsWUFBWTtnQkFDWixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQztnQkFDbkYsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUM1QztRQUNMLENBQUM7UUFFRCxRQUFRLENBQUMsT0FBVztZQUNoQixJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUU7Z0JBQ3ZELElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLEtBQUssVUFBVSxFQUFFO29CQUN2QyxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQWUsQ0FBQztvQkFDM0MsSUFBSSxDQUFDLFFBQVEsQ0FBQzt3QkFDViwwQkFBMEIsRUFBRSxLQUFLO3FCQUNwQyxDQUFDLENBQUE7aUJBQ0w7YUFDSjtRQUNMLENBQUM7UUFFRCxpQkFBaUI7WUFDYixJQUFHLElBQUksQ0FBQyxjQUFjLEVBQUM7Z0JBQ25CLElBQUksQ0FBQyxjQUFjLENBQUMsdUJBQXVCLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQ3BGO1FBQ0wsQ0FBQztRQUVELG9CQUFvQjtZQUNoQixJQUFHLElBQUksQ0FBQyxjQUFjLEVBQUM7Z0JBQ25CLElBQUksQ0FBQyxjQUFjLENBQUMseUJBQXlCLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQ3RGO1FBQ0wsQ0FBQztRQUdELE1BQU07WUFDRixPQUFPLG9CQUFDLFNBQVMsb0JBQUssSUFBSSxDQUFDLEtBQUssSUFBRSwwQkFBMEIsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLDBCQUEwQixJQUFJLENBQUM7UUFDNUcsQ0FBQztLQUNKLENBQUE7QUFFTCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogIENvcHlyaWdodCAyMDIwIEFkb2JlXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtDb250YWluZXJTdGF0ZSwgQWxsb3dlZENvbXBvbmVudHNQcm9wZXJ0aWVzfSBmcm9tICdAYWRvYmUvYWVtLXJlYWN0LWVkaXRhYmxlLWNvbXBvbmVudHMnO1xuaW1wb3J0IHtDb21wb25lbnRUeXBlfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IE1vZGVsIH0gZnJvbSAnQGFkb2JlL2FlbS1zcGEtcGFnZS1tb2RlbC1tYW5hZ2VyJztcblxuZXhwb3J0IGludGVyZmFjZSBIYXNCYXNlQ3NzQ2xhc3N7XG4gICAgYmFzZUNzc0NsYXNzPzpzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29yZUNvbnRhaW5lclByb3BlcnRpZXMgZXh0ZW5kcyBBbGxvd2VkQ29tcG9uZW50c1Byb3BlcnRpZXMsIEhhc0Jhc2VDc3NDbGFzc3tcbiAgICBhY3RpdmVJbmRleEZyb21BdXRob3JQYW5lbD86bnVtYmVyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29yZUNvbnRhaW5lckl0ZW0gZXh0ZW5kcyBNb2RlbCB7XG4gICAgJ2NxOnBhbmVsVGl0bGUnOiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb3JlQ29udGFpbmVyU3RhdGUgZXh0ZW5kcyBDb250YWluZXJTdGF0ZSB7XG5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdXRob3JQYW5lbFN3aXRjaFN0YXRlIHtcbiAgICBhY3RpdmVJbmRleEZyb21BdXRob3JQYW5lbD86IG51bWJlclxufVxuXG5jb25zdCBpc0Jyb3dzZXIgPSAoKCkgPT4ge1xuICAgIHRyeXtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuICAgIH1jYXRjaChlcnIpe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufSkoKTtcblxuXG5leHBvcnQgY29uc3Qgd2l0aFN0YW5kYXJkQmFzZUNzc0NsYXNzID0gPE0gZXh0ZW5kcyBIYXNCYXNlQ3NzQ2xhc3M+XG4oXG4gICAgQ29tcG9uZW50OkNvbXBvbmVudFR5cGU8TT4sXG4gICAgZGVmYXVsdEJhc2VDc3NDbGFzczpzdHJpbmdcbik6UmVhY3QuQ29tcG9uZW50VHlwZTxNPiAgPT4ge1xuICAgIHJldHVybiAocHJvcHM6TSkgPT4ge1xuXG4gICAgICAgIGNvbnN0IGJhc2VDc3NDbGFzcyA9IHByb3BzLmJhc2VDc3NDbGFzcztcbiAgICAgICAgY29uc3QgdG9CZVVzZWRDc3NDbGFzcyA9IGJhc2VDc3NDbGFzcyAmJiBiYXNlQ3NzQ2xhc3MudHJpbSgpLmxlbmd0aCA+IDAgPyBiYXNlQ3NzQ2xhc3MgOiBkZWZhdWx0QmFzZUNzc0NsYXNzO1xuXG4gICAgICAgIGNvbnN0IG1lcmdlZFByb3BzOiBNPSB7XG4gICAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICAgIGJhc2VDc3NDbGFzczogdG9CZVVzZWRDc3NDbGFzc1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiA8Q29tcG9uZW50IHsuLi5tZXJnZWRQcm9wc30gLz47XG4gICAgfVxufTtcblxuXG5cbmV4cG9ydCBjb25zdCB3aXRoQXV0aG9yUGFuZWxTd2l0Y2ggPSA8TSBleHRlbmRzIENvcmVDb250YWluZXJQcm9wZXJ0aWVzPihcbiAgICBDb21wb25lbnQ6Q29tcG9uZW50VHlwZTxNPlxuKTpSZWFjdC5Db21wb25lbnRUeXBlPE0+ID0+IHtcblxuICAgIHJldHVybiBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxNLCBBdXRob3JQYW5lbFN3aXRjaFN0YXRlPiB7XG5cbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIG1lc3NhZ2VDaGFubmVsO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHByb3BzOk0pIHtcbiAgICAgICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB7fVxuXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGlmIChpc0Jyb3dzZXIgJiYgd2luZG93LkdyYW5pdGUgJiYgd2luZG93LkdyYW5pdGUuYXV0aG9yICYmIHdpbmRvdy5HcmFuaXRlLmF1dGhvci5NZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZUNoYW5uZWwgPSBuZXcgd2luZG93LkdyYW5pdGUuYXV0aG9yLk1lc3NhZ2VDaGFubmVsKFwiY3FhdXRob3JcIiwgd2luZG93KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrID0gdGhpcy5jYWxsYmFjay5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGJhY2sobWVzc2FnZTphbnkpe1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YSAmJiBtZXNzYWdlLmRhdGEuaWQgPT09IHRoaXMucHJvcHMuY3FQYXRoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YS5vcGVyYXRpb24gPT09IFwibmF2aWdhdGVcIikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IG1lc3NhZ2UuZGF0YS5pbmRleCBhcyBudW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSW5kZXhGcm9tQXV0aG9yUGFuZWw6IGluZGV4XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29tcG9uZW50RGlkTW91bnQoKTogdm9pZCB7XG4gICAgICAgICAgICBpZih0aGlzLm1lc3NhZ2VDaGFubmVsKXtcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VDaGFubmVsLnN1YnNjcmliZVJlcXVlc3RNZXNzYWdlKFwiY21wLnBhbmVsY29udGFpbmVyXCIsIHRoaXMuY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29tcG9uZW50V2lsbFVubW91bnQoKTogdm9pZCB7XG4gICAgICAgICAgICBpZih0aGlzLm1lc3NhZ2VDaGFubmVsKXtcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VDaGFubmVsLnVuc3Vic2NyaWJlUmVxdWVzdE1lc3NhZ2UoXCJjbXAucGFuZWxjb250YWluZXJcIiwgdGhpcy5jYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIHJlbmRlcigpe1xuICAgICAgICAgICAgcmV0dXJuIDxDb21wb25lbnQgey4uLnRoaXMucHJvcHN9IGFjdGl2ZUluZGV4RnJvbUF1dGhvclBhbmVsPXt0aGlzLnN0YXRlLmFjdGl2ZUluZGV4RnJvbUF1dGhvclBhbmVsfSAvPjtcbiAgICAgICAgfVxuICAgIH1cblxufTtcbiJdfQ=="],"sourceRoot":""}