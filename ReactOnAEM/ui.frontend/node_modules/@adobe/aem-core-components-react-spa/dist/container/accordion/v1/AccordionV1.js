!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["@adobe/aem-core-components-react-spa"]=t():e["@adobe/aem-core-components-react-spa"]=t()}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function s(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=17)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("@adobe/aem-react-editable-components")},function(e,t,s){"use strict";s.d(t,"b",(function(){return r})),s.d(t,"a",(function(){return o}));var n=s(0);const a=(()=>{try{return"undefined"!=typeof window}catch(e){return!1}})(),r=(e,t)=>s=>{const a=s.baseCssClass,r=a&&a.trim().length>0?a:t,o={...s,baseCssClass:r};return n.createElement(e,Object.assign({},o))},o=e=>class extends n.Component{constructor(e){super(e),this.state={},a&&window.Granite&&window.Granite.author&&window.Granite.author.MessageChannel&&(this.messageChannel=new window.Granite.author.MessageChannel("cqauthor",window),this.callback=this.callback.bind(this))}callback(e){if(e.data&&e.data.id===this.props.cqPath&&"navigate"===e.data.operation){const t=e.data.index;this.setState({activeIndexFromAuthorPanel:t})}}componentDidMount(){this.messageChannel&&this.messageChannel.subscribeRequestMessage("cmp.panelcontainer",this.callback)}componentWillUnmount(){this.messageChannel&&this.messageChannel.unsubscribeRequestMessage("cmp.panelcontainer",this.callback)}render(){return n.createElement(e,Object.assign({},this.props,{activeIndexFromAuthorPanel:this.state.activeIndexFromAuthorPanel}))}}},,function(e,t,s){"use strict";function n(e){return null==e.cqItemsOrder||0==e.cqItemsOrder.length}s.d(t,"a",(function(){return n}))},,,,function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(2),r=s(1),o=s(4);class i extends r.Container{constructor(e){super(e),this.state={componentMapping:this.props.componentMapping||r.ComponentMapping,expandedItems:this.props.expandedItems},this.handleAccordionNavClick=this.handleAccordionNavClick.bind(this)}componentDidUpdate(e,t){void 0!==this.props.activeIndexFromAuthorPanel&&e.activeIndexFromAuthorPanel!=this.props.activeIndexFromAuthorPanel&&this.setState({expandedItems:[this.props.cqItemsOrder[this.props.activeIndexFromAuthorPanel]]})}handleAccordionNavClick(e){const t=this.state.expandedItems.indexOf(e)>-1,s=this.props.singleExpansion;let n=this.state.expandedItems;if(s)n=t?[]:[e];else if(t){const t=this.state.expandedItems.indexOf(e);n.splice(t)}else n.push(e);this.setState({expandedItems:n})}isItemExpanded(e){return this.state.expandedItems.indexOf(e)>-1}get accordionContainerProps(){const e=this.containerProps;return e.className=e.className+" "+this.props.baseCssClass,e["data-cmp-is"]="accordion",e["data-panelcontainer"]="accordion",e}displayItem(e,t){const s=this.props.cqItemsOrder.indexOf(e);if(!0===this.props.isInEditor||t){const e=t?`${this.props.baseCssClass}__panel ${this.props.baseCssClass}__panel--expanded`:`${this.props.baseCssClass}__panel ${this.props.baseCssClass}__panel--hidden`;return n.createElement("div",{className:e,role:"region"},this.childComponents[s])}return null}renderHeadingButton(e,t,s){return n.createElement("button",{className:s,onClick:()=>{this.handleAccordionNavClick(e)}},n.createElement("span",{className:this.props.baseCssClass+"__title"},t["cq:panelTitle"]),n.createElement("span",{className:this.props.baseCssClass+"__icon"}))}get accordionContent(){return this.props.cqItemsOrder.map((e,t)=>{const s=this.props.cqItems[e],a=this.isItemExpanded(e),r=a?`${this.props.baseCssClass}__button ${this.props.baseCssClass}__button--expanded`:this.props.baseCssClass+"__button";return n.createElement("div",{key:"accordion-index"+t,className:this.props.baseCssClass+"__item","data-cmp-index":t,"data-cmp-expanded":a},n.createElement(""+(this.props.headingElement||"h3"),{className:this.props.baseCssClass+"__header"},this.renderHeadingButton(e,s,r)),this.displayItem(e,a))})}render(){const e=Object(o.a)(this.props);return n.createElement("div",Object.assign({},this.accordionContainerProps),!e&&this.accordionContent,this.placeholderComponent)}}t.default=Object(a.b)(Object(a.a)(i),"cmp-accordion")},,,,,,,,,function(e,t,s){e.exports=s(8)}])}));
//# sourceMappingURL=AccordionV1.js.map